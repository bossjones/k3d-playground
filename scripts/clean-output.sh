#!/usr/bin/env bash
echo ""
#echo "# arguments called with ---->  ${@}     "
#echo "# \$1 ---------------------->  $1       "
#echo "# \$2 ---------------------->  $2       "
echo "# path to me --------------->  ${0}     "
echo "# parent path -------------->  ${0%/*}  "
echo "# my name ------------------>  ${0##*/} "
echo ""


echo -e "time=\"2024-03-10T23:48:18Z\" level=info msg=\"Waiting for API server to become available\"\nI0310 23:48:18.642828      23 flags.go:64] FLAG: --admission-control=\"[]\"\nI0310 23:48:18.642913      23 flags.go:64] FLAG: --admission-control-config-file=\"\"\nI0310 23:48:18.643153      23 flags.go:64] FLAG: --advertise-address=\"<nil>\"\nI0310 23:48:18.643162      23 flags.go:64] FLAG: --advertise-port=\"6443\"\nI0310 23:48:18.643165      23 flags.go:64] FLAG: --aggregator-reject-forwarding-redirect=\"true\"\nI0310 23:48:18.643169      23 flags.go:64] FLAG: --allow-metric-labels=\"[]\"\nI0310 23:48:18.643173      23 flags.go:64] FLAG: --allow-privileged=\"true\"\nI0310 23:48:18.643175      23 flags.go:64] FLAG: --anonymous-auth=\"false\"\nI0310 23:48:18.643177      23 flags.go:64] FLAG: --api-audiences=\"[https://kubernetes.default.svc.cluster.local,k3s]\"\nI0310 23:48:18.643182      23 flags.go:64] FLAG: --apiserver-count=\"1\"\nI0310 23:48:18.643183      23 flags.go:64] FLAG: --audit-log-batch-buffer-size=\"10000\"\nI0310 23:48:18.643185      23 flags.go:64] FLAG: --audit-log-batch-max-size=\"1\"\nI0310 23:48:18.643187      23 flags.go:64] FLAG: --audit-log-batch-max-wait=\"0s\"\nI0310 23:48:18.643190      23 flags.go:64] FLAG: --audit-log-batch-throttle-burst=\"0\"\nI0310 23:48:18.643191      23 flags.go:64] FLAG: --audit-log-batch-throttle-enable=\"false\"\nI0310 23:48:18.643192      23 flags.go:64] FLAG: --audit-log-batch-throttle-qps=\"0\"\nI0310 23:48:18.643195      23 flags.go:64] FLAG: --audit-log-compress=\"false\"\nI0310 23:48:18.643196      23 flags.go:64] FLAG: --audit-log-format=\"json\"\nI0310 23:48:18.643198      23 flags.go:64] FLAG: --audit-log-maxage=\"0\"\nI0310 23:48:18.643199      23 flags.go:64] FLAG: --audit-log-maxbackup=\"0\"\nI0310 23:48:18.643200      23 flags.go:64] FLAG: --audit-log-maxsize=\"0\"\nI0310 23:48:18.643202      23 flags.go:64] FLAG: --audit-log-mode=\"blocking\"\nI0310 23:48:18.643203      23 flags.go:64] FLAG: --audit-log-path=\"\"\nI0310 23:48:18.643204      23 flags.go:64] FLAG: --audit-log-truncate-enabled=\"false\"\nI0310 23:48:18.643206      23 flags.go:64] FLAG: --audit-log-truncate-max-batch-size=\"10485760\"\nI0310 23:48:18.643208      23 flags.go:64] FLAG: --audit-log-truncate-max-event-size=\"102400\"\nI0310 23:48:18.643211      23 flags.go:64] FLAG: --audit-log-version=\"audit.k8s.io/v1\"\nI0310 23:48:18.643212      23 flags.go:64] FLAG: --audit-policy-file=\"\"\nI0310 23:48:18.643214      23 flags.go:64] FLAG: --audit-webhook-batch-buffer-size=\"10000\"\nI0310 23:48:18.643215      23 flags.go:64] FLAG: --audit-webhook-batch-initial-backoff=\"10s\"\nI0310 23:48:18.643216      23 flags.go:64] FLAG: --audit-webhook-batch-max-size=\"400\"\nI0310 23:48:18.643218      23 flags.go:64] FLAG: --audit-webhook-batch-max-wait=\"30s\"\nI0310 23:48:18.643219      23 flags.go:64] FLAG: --audit-webhook-batch-throttle-burst=\"15\"\nI0310 23:48:18.643220      23 flags.go:64] FLAG: --audit-webhook-batch-throttle-enable=\"true\"\nI0310 23:48:18.643221      23 flags.go:64] FLAG: --audit-webhook-batch-throttle-qps=\"10\"\nI0310 23:48:18.643223      23 flags.go:64] FLAG: --audit-webhook-config-file=\"\"\nI0310 23:48:18.643224      23 flags.go:64] FLAG: --audit-webhook-initial-backoff=\"10s\"\nI0310 23:48:18.643226      23 flags.go:64] FLAG: --audit-webhook-mode=\"batch\"\nI0310 23:48:18.643227      23 flags.go:64] FLAG: --audit-webhook-truncate-enabled=\"false\"\nI0310 23:48:18.643228      23 flags.go:64] FLAG: --audit-webhook-truncate-max-batch-size=\"10485760\"\nI0310 23:48:18.643230      23 flags.go:64] FLAG: --audit-webhook-truncate-max-event-size=\"102400\"\nI0310 23:48:18.643232      23 flags.go:64] FLAG: --audit-webhook-version=\"audit.k8s.io/v1\"\nI0310 23:48:18.643234      23 flags.go:64] FLAG: --authentication-token-webhook-cache-ttl=\"2m0s\"\nI0310 23:48:18.643235      23 flags.go:64] FLAG: --authentication-token-webhook-config-file=\"\"\nI0310 23:48:18.643237      23 flags.go:64] FLAG: --authentication-token-webhook-version=\"v1beta1\"\nI0310 23:48:18.643239      23 flags.go:64] FLAG: --authorization-mode=\"[Node,RBAC]\"\nI0310 23:48:18.643241      23 flags.go:64] FLAG: --authorization-policy-file=\"\"\nI0310 23:48:18.643242      23 flags.go:64] FLAG: --authorization-webhook-cache-authorized-ttl=\"5m0s\"\nI0310 23:48:18.643243      23 flags.go:64] FLAG: --authorization-webhook-cache-unauthorized-ttl=\"30s\"\nI0310 23:48:18.643245      23 flags.go:64] FLAG: --authorization-webhook-config-file=\"\"\nI0310 23:48:18.643246      23 flags.go:64] FLAG: --authorization-webhook-version=\"v1beta1\"\nI0310 23:48:18.643248      23 flags.go:64] FLAG: --bind-address=\"127.0.0.1\"\nI0310 23:48:18.643250      23 flags.go:64] FLAG: --cert-dir=\"/var/lib/rancher/k3s/server/tls/temporary-certs\"\nI0310 23:48:18.643252      23 flags.go:64] FLAG: --client-ca-file=\"/var/lib/rancher/k3s/server/tls/client-ca.crt\"\nI0310 23:48:18.643254      23 flags.go:64] FLAG: --cloud-config=\"\"\nI0310 23:48:18.643255      23 flags.go:64] FLAG: --cloud-provider=\"\"\nI0310 23:48:18.643257      23 flags.go:64] FLAG: --contention-profiling=\"false\"\nI0310 23:48:18.643258      23 flags.go:64] FLAG: --cors-allowed-origins=\"[]\"\nI0310 23:48:18.643279      23 flags.go:64] FLAG: --debug-socket-path=\"\"\nI0310 23:48:18.643280      23 flags.go:64] FLAG: --default-not-ready-toleration-seconds=\"300\"\nI0310 23:48:18.643299      23 flags.go:64] FLAG: --default-unreachable-toleration-seconds=\"300\"\nI0310 23:48:18.643301      23 flags.go:64] FLAG: --default-watch-cache-size=\"100\"\nI0310 23:48:18.643303      23 flags.go:64] FLAG: --delete-collection-workers=\"1\"\nI0310 23:48:18.643304      23 flags.go:64] FLAG: --disable-admission-plugins=\"[]\"\nI0310 23:48:18.643306      23 flags.go:64] FLAG: --disabled-metrics=\"[]\"\nI0310 23:48:18.643308      23 flags.go:64] FLAG: --egress-selector-config-file=\"/var/lib/rancher/k3s/server/etc/egress-selector-config.yaml\"\nI0310 23:48:18.643310      23 flags.go:64] FLAG: --enable-admission-plugins=\"[NodeRestriction]\"\nI0310 23:48:18.643312      23 flags.go:64] FLAG: --enable-aggregator-routing=\"true\"\nI0310 23:48:18.643313      23 flags.go:64] FLAG: --enable-bootstrap-token-auth=\"true\"\nI0310 23:48:18.643315      23 flags.go:64] FLAG: --enable-garbage-collector=\"true\"\nI0310 23:48:18.643316      23 flags.go:64] FLAG: --enable-logs-handler=\"true\"\nI0310 23:48:18.643317      23 flags.go:64] FLAG: --enable-priority-and-fairness=\"true\"\nI0310 23:48:18.643319      23 flags.go:64] FLAG: --encryption-provider-config=\"\"\nI0310 23:48:18.643320      23 flags.go:64] FLAG: --encryption-provider-config-automatic-reload=\"false\"\nI0310 23:48:18.643321      23 flags.go:64] FLAG: --endpoint-reconciler-type=\"lease\"\nI0310 23:48:18.643323      23 flags.go:64] FLAG: --etcd-cafile=\"\"\nI0310 23:48:18.643324      23 flags.go:64] FLAG: --etcd-certfile=\"\"\nI0310 23:48:18.643325      23 flags.go:64] FLAG: --etcd-compaction-interval=\"5m0s\"\nI0310 23:48:18.643327      23 flags.go:64] FLAG: --etcd-count-metric-poll-period=\"1m0s\"\nI0310 23:48:18.643328      23 flags.go:64] FLAG: --etcd-db-metric-poll-interval=\"30s\"\nI0310 23:48:18.643329      23 flags.go:64] FLAG: --etcd-healthcheck-timeout=\"2s\"\nI0310 23:48:18.643330      23 flags.go:64] FLAG: --etcd-keyfile=\"\"\nI0310 23:48:18.643331      23 flags.go:64] FLAG: --etcd-prefix=\"/registry\"\nI0310 23:48:18.643333      23 flags.go:64] FLAG: --etcd-readycheck-timeout=\"2s\"\nI0310 23:48:18.643334      23 flags.go:64] FLAG: --etcd-servers=\"[unix://kine.sock]\"\nI0310 23:48:18.643337      23 flags.go:64] FLAG: --etcd-servers-overrides=\"[]\"\nI0310 23:48:18.643338      23 flags.go:64] FLAG: --event-ttl=\"1h0m0s\"\nI0310 23:48:18.643340      23 flags.go:64] FLAG: --external-hostname=\"\"\nI0310 23:48:18.643341      23 flags.go:64] FLAG: --feature-gates=\"JobTrackingWithFinalizers=true\"\nI0310 23:48:18.643350      23 flags.go:64] FLAG: --goaway-chance=\"0\"\nI0310 23:48:18.643352      23 flags.go:64] FLAG: --help=\"false\"\nI0310 23:48:18.643353      23 flags.go:64] FLAG: --http2-max-streams-per-connection=\"0\"\nI0310 23:48:18.643355      23 flags.go:64] FLAG: --kubelet-certificate-authority=\"/var/lib/rancher/k3s/server/tls/server-ca.crt\"\nI0310 23:48:18.643357      23 flags.go:64] FLAG: --kubelet-client-certificate=\"/var/lib/rancher/k3s/server/tls/client-kube-apiserver.crt\"\nI0310 23:48:18.643359      23 flags.go:64] FLAG: --kubelet-client-key=\"/var/lib/rancher/k3s/server/tls/client-kube-apiserver.key\"\nI0310 23:48:18.643361      23 flags.go:64] FLAG: --kubelet-port=\"10250\"\nI0310 23:48:18.643363      23 flags.go:64] FLAG: --kubelet-preferred-address-types=\"[InternalIP,ExternalIP,Hostname]\"\nI0310 23:48:18.643388      23 flags.go:64] FLAG: --kubelet-read-only-port=\"10255\"\nI0310 23:48:18.643396      23 flags.go:64] FLAG: --kubelet-timeout=\"5s\"\nI0310 23:48:18.643398      23 flags.go:64] FLAG: --kubernetes-service-node-port=\"0\"\nI0310 23:48:18.643399      23 flags.go:64] FLAG: --lease-reuse-duration-seconds=\"60\"\nI0310 23:48:18.643401      23 flags.go:64] FLAG: --livez-grace-period=\"0s\"\nI0310 23:48:18.643402      23 flags.go:64] FLAG: --log-flush-frequency=\"5s\"\nI0310 23:48:18.643404      23 flags.go:64] FLAG: --logging-format=\"text\"\nI0310 23:48:18.643405      23 flags.go:64] FLAG: --max-connection-bytes-per-sec=\"0\"\nI0310 23:48:18.643424      23 flags.go:64] FLAG: --max-mutating-requests-inflight=\"2400\"\nI0310 23:48:18.643426      23 flags.go:64] FLAG: --max-requests-inflight=\"4000\"\nI0310 23:48:18.643428      23 flags.go:64] FLAG: --min-request-timeout=\"1800\"\nI0310 23:48:18.643429      23 flags.go:64] FLAG: --oidc-ca-file=\"\"\nI0310 23:48:18.643430      23 flags.go:64] FLAG: --oidc-client-id=\"\"\nI0310 23:48:18.643432      23 flags.go:64] FLAG: --oidc-groups-claim=\"\"\nI0310 23:48:18.643433      23 flags.go:64] FLAG: --oidc-groups-prefix=\"\"\nI0310 23:48:18.643507      23 flags.go:64] FLAG: --oidc-issuer-url=\"\"\nI0310 23:48:18.643521      23 flags.go:64] FLAG: --oidc-required-claim=\"\"\nI0310 23:48:18.643526      23 flags.go:64] FLAG: --oidc-signing-algs=\"[RS256]\"\nI0310 23:48:18.643530      23 flags.go:64] FLAG: --oidc-username-claim=\"sub\"\nI0310 23:48:18.643532      23 flags.go:64] FLAG: --oidc-username-prefix=\"\"\nI0310 23:48:18.643534      23 flags.go:64] FLAG: --permit-address-sharing=\"false\"\nI0310 23:48:18.643536      23 flags.go:64] FLAG: --permit-port-sharing=\"false\"\nI0310 23:48:18.643537      23 flags.go:64] FLAG: --profiling=\"false\"\nI0310 23:48:18.643538      23 flags.go:64] FLAG: --proxy-client-cert-file=\"/var/lib/rancher/k3s/server/tls/client-auth-proxy.crt\"\nI0310 23:48:18.643541      23 flags.go:64] FLAG: --proxy-client-key-file=\"/var/lib/rancher/k3s/server/tls/client-auth-proxy.key\"\nI0310 23:48:18.643543      23 flags.go:64] FLAG: --request-timeout=\"1m0s\"\nI0310 23:48:18.643545      23 flags.go:64] FLAG: --requestheader-allowed-names=\"[system:auth-proxy]\"\nI0310 23:48:18.643551      23 flags.go:64] FLAG: --requestheader-client-ca-file=\"/var/lib/rancher/k3s/server/tls/request-header-ca.crt\"\nI0310 23:48:18.643553      23 flags.go:64] FLAG: --requestheader-extra-headers-prefix=\"[X-Remote-Extra-]\"\nI0310 23:48:18.643555      23 flags.go:64] FLAG: --requestheader-group-headers=\"[X-Remote-Group]\"\nI0310 23:48:18.643557      23 flags.go:64] FLAG: --requestheader-username-headers=\"[X-Remote-User]\"\nI0310 23:48:18.643559      23 flags.go:64] FLAG: --runtime-config=\"\"\nI0310 23:48:18.643562      23 flags.go:64] FLAG: --secure-port=\"6444\"\nI0310 23:48:18.643564      23 flags.go:64] FLAG: --service-account-extend-token-expiration=\"true\"\nI0310 23:48:18.643566      23 flags.go:64] FLAG: --service-account-issuer=\"[https://kubernetes.default.svc.cluster.local]\"\nI0310 23:48:18.643572      23 flags.go:64] FLAG: --service-account-jwks-uri=\"\"\nI0310 23:48:18.643573      23 flags.go:64] FLAG: --service-account-key-file=\"[/var/lib/rancher/k3s/server/tls/service.key]\"\nI0310 23:48:18.643576      23 flags.go:64] FLAG: --service-account-lookup=\"true\"\nI0310 23:48:18.643578      23 flags.go:64] FLAG: --service-account-max-token-expiration=\"0s\"\nI0310 23:48:18.643579      23 flags.go:64] FLAG: --service-account-signing-key-file=\"/var/lib/rancher/k3s/server/tls/service.current.key\"\nI0310 23:48:18.643581      23 flags.go:64] FLAG: --service-cluster-ip-range=\"10.43.0.0/16\"\nI0310 23:48:18.643583      23 flags.go:64] FLAG: --service-node-port-range=\"30000-32767\"\nI0310 23:48:18.643587      23 flags.go:64] FLAG: --show-hidden-metrics-for-version=\"\"\nI0310 23:48:18.643589      23 flags.go:64] FLAG: --shutdown-delay-duration=\"0s\"\nI0310 23:48:18.643590      23 flags.go:64] FLAG: --shutdown-send-retry-after=\"false\"\nI0310 23:48:18.643592      23 flags.go:64] FLAG: --shutdown-watch-termination-grace-period=\"0s\"\nI0310 23:48:18.643593      23 flags.go:64] FLAG: --storage-backend=\"etcd3\"\nI0310 23:48:18.643594      23 flags.go:64] FLAG: --storage-media-type=\"application/vnd.kubernetes.protobuf\"\nI0310 23:48:18.643596      23 flags.go:64] FLAG: --strict-transport-security-directives=\"[]\"\nI0310 23:48:18.643599      23 flags.go:64] FLAG: --tls-cert-file=\"/var/lib/rancher/k3s/server/tls/serving-kube-apiserver.crt\"\nI0310 23:48:18.643600      23 flags.go:64] FLAG: --tls-cipher-suites=\"[TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305]\"\nI0310 23:48:18.643610      23 flags.go:64] FLAG: --tls-min-version=\"\"\nI0310 23:48:18.643611      23 flags.go:64] FLAG: --tls-private-key-file=\"/var/lib/rancher/k3s/server/tls/serving-kube-apiserver.key\"\nI0310 23:48:18.643614      23 flags.go:64] FLAG: --tls-sni-cert-key=\"[]\"\nI0310 23:48:18.643617      23 flags.go:64] FLAG: --token-auth-file=\"\"\nI0310 23:48:18.643618      23 flags.go:64] FLAG: --tracing-config-file=\"\"\nI0310 23:48:18.643619      23 flags.go:64] FLAG: --v=\"1\"\nI0310 23:48:18.643622      23 flags.go:64] FLAG: --version=\"false\"\nI0310 23:48:18.643625      23 flags.go:64] FLAG: --vmodule=\"\"\nI0310 23:48:18.643627      23 flags.go:64] FLAG: --watch-cache=\"true\"\nI0310 23:48:18.643628      23 flags.go:64] FLAG: --watch-cache-sizes=\"[]\"\ntime=\"2024-03-10T23:48:18Z\" level=info msg=\"Running kube-controller-manager --allocate-node-cidrs=true --authentication-kubeconfig=/var/lib/rancher/k3s/server/cred/controller.kubeconfig --authorization-kubeconfig=/var/lib/rancher/k3s/server/cred/controller.kubeconfig --bind-address=127.0.0.1 --cluster-cidr=10.42.0.0/16 --cluster-signing-kube-apiserver-client-cert-file=/var/lib/rancher/k3s/server/tls/client-ca.nochain.crt --cluster-signing-kube-apiserver-client-key-file=/var/lib/rancher/k3s/server/tls/client-ca.key --cluster-signing-kubelet-client-cert-file=/var/lib/rancher/k3s/server/tls/client-ca.nochain.crt --cluster-signing-kubelet-client-key-file=/var/lib/rancher/k3s/server/tls/client-ca.key --cluster-signing-kubelet-serving-cert-file=/var/lib/rancher/k3s/server/tls/server-ca.nochain.crt --cluster-signing-kubelet-serving-key-file=/var/lib/rancher/k3s/server/tls/server-ca.key --cluster-signing-legacy-unknown-cert-file=/var/lib/rancher/k3s/server/tls/server-ca.nochain.crt --cluster-signing-legacy-unknown-key-file=/var/lib/rancher/k3s/server/tls/server-ca.key --configure-cloud-routes=false --controllers=*,tokencleaner,-service,-route,-cloud-node-lifecycle --feature-gates=JobTrackingWithFinalizers=true --kubeconfig=/var/lib/rancher/k3s/server/cred/controller.kubeconfig --leader-elect-lease-duration=10m --leader-elect-renew-deadline=8m --profiling=false --root-ca-file=/var/lib/rancher/k3s/server/tls/server-ca.crt --secure-port=10257 --service-account-private-key-file=/var/lib/rancher/k3s/server/tls/service.current.key --service-cluster-ip-range=10.43.0.0/16 --use-service-account-credentials=true\"\ntime=\"2024-03-10T23:48:18Z\" level=info msg=\"Running cloud-controller-manager --allocate-node-cidrs=true --authentication-kubeconfig=/var/lib/rancher/k3s/server/cred/cloud-controller.kubeconfig --authorization-kubeconfig=/var/lib/rancher/k3s/server/cred/cloud-controller.kubeconfig --bind-address=127.0.0.1 --cloud-config=/var/lib/rancher/k3s/server/etc/cloud-config.yaml --cloud-provider=k3s --cluster-cidr=10.42.0.0/16 --configure-cloud-routes=false --controllers=*,-route --kubeconfig=/var/lib/rancher/k3s/server/cred/cloud-controller.kubeconfig --leader-elect-resource-name=k3s-cloud-controller-manager --node-status-update-frequency=1m0s --profiling=false\"\nI0310 23:48:18.645222      23 server.go:567] external host was not specified, using 192.168.176.3\ntime=\"2024-03-10T23:48:18Z\" level=info msg=\"Server node token is available at /var/lib/rancher/k3s/server/token\""

echo ""
echo "END ------------------>  ${0##*/} "
echo ""
